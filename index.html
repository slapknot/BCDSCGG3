<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ONLY app</title>
  <style>
    /* --- General Styling & Inclusive Green Growth Theme --- */
    @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Thai:wght@400;500;700&display=swap');

    :root {
      --primary-color: #006A4E; /* Deep, trustworthy green */
      --secondary-color: #F0F4F3; /* Light, airy green-gray */
      --accent-color: #4CAF50;   /* Vibrant green for actions */
      --discount-color: #D32F2F; /* Strong red for discounts */
      --text-color: #212121;ONLY app
      --light-text: #616161;
      --card-bg: #FFFFFF;
      --card-radius: 16px; /* Softer, more modern corners */
      --shadow-sm: 0 4px 6px rgba(0,0,0,0.04);
      --shadow-md: 0 10px 20px rgba(0,0,0,0.07);
      --header-height: 70px;
      --nav-height: 80px;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    html { height: 100%; }

    body {
      font-family: 'Noto Sans Thai', sans-serif;
      background: var(--secondary-color);
      color: var(--text-color);
      height: 100%;
      display: flex;
      flex-direction: column;
      overflow: hidden;
    }

    a { text-decoration: none; color: inherit; }

    /* --- Header with Logo --- */
    header {
      background: var(--card-bg);
      color: var(--primary-color);
      height: var(--header-height);
      display: flex;
      align-items: center;
      padding: 0 24px;
      box-shadow: var(--shadow-sm); 
      z-index: 300;
      flex-shrink: 0;
      border-bottom: 1px solid #e0e0e0;
    }
    .header-logo {
        height: 36px;
        width: auto;
    }
    .header-title {
        font-size: 22px;
        font-weight: 700;
        margin-left: 16px;
        letter-spacing: 0.5px;
    }

    /* --- Main Navigation --- */
    .main-nav {
      display: flex; justify-content: center; gap: 1rem;
      background: var(--card-bg); padding: 12px;
      height: var(--nav-height);
      flex-shrink: 0;
      border-bottom: 1px solid #e0e0e0;
    }
    .nav-item {
      display: flex; flex-direction: column; align-items: center;
      justify-content: center;
      gap: 4px; padding: 0 12px;
      border-radius: var(--card-radius);
      cursor: pointer; transition: background-color 0.2s, color 0.2s;
      color: var(--light-text);
      border: 2px solid transparent;
    }
    .nav-item svg { width: 28px; height: 28px; fill: currentColor; transition: fill 0.2s; }
    .nav-item span { font-size: 13px; font-weight: 700; }
    .nav-item:hover { color: var(--primary-color); }
    .nav-item.active {
      color: var(--primary-color);
      background-color: var(--secondary-color);
      border-color: var(--primary-color);
    }

    /* --- Main Content Area --- */
    main {
        flex-grow: 1;
        display: flex;
        flex-direction: column;
        overflow: hidden;
    }

    /* --- Page Container --- */
    .page { 
      display: none; 
      flex-direction: column; 
      height: 100%;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
    .page.active { display: flex; }

    /* --- Filter Controls --- */
    .filters-wrapper {
      background-color: var(--card-bg);
      padding: 16px;
      border-bottom: 1px solid #e9ecef;
      flex-shrink: 0;
    }
    
    .filters-wrapper input[type="search"] {
        width: 100%;
        padding: 10px 16px;
        font-size: 16px;
        border: 1px solid #ced4da;
        border-radius: var(--card-radius);
        margin-bottom: 12px;
        transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
    }
    .filters-wrapper input[type="search"]:focus {
        border-color: var(--primary-color);
        outline: 0;
        box-shadow: 0 0 0 0.2rem rgba(0, 106, 78, 0.25);
    }

    .scrollable-filters {
        display: flex;
        overflow-x: auto;
        gap: 8px;
        white-space: nowrap;
        -ms-overflow-style: none;
        scrollbar-width: none;
    }
    .scrollable-filters::-webkit-scrollbar { display: none; }

    .scrollable-filters select,
    .scrollable-filters button {
      flex: 0 0 auto;
      padding: 8px 14px;
      font-size: 14px;
      border: 1px solid #ced4da;
      border-radius: var(--card-radius);
      background: #fff;
    }

    .scrollable-filters button {
      cursor: pointer;
      border: none;
      transition: background-color 0.2s, transform 0.2s;
      color: #fff;
      font-weight: 700;
    }
    .scrollable-filters button:hover { transform: translateY(-1px); }
    .scrollable-filters .random-btn { background: var(--accent-color); }
    .scrollable-filters .random-btn:hover { background: #5cb85c; }
    .scrollable-filters .reset-btn { background: #757575; }
    .scrollable-filters .reset-btn:hover { background: #616161; }
    
    #selected-name-restaurant {
        display: block;
        text-align: center;
        padding-top: 12px;
        font-size: 14px;
        font-weight: bold;
        color: var(--primary-color);
    }
    
    /* --- Content List & Cards --- */
    .content-list {
      display: grid; grid-template-columns: 1fr;
      gap: 16px; padding: 16px;
      flex-grow: 1;
    }
    @media (min-width: 768px) { .content-list { grid-template-columns: repeat(2, 1fr); } }

    .item-card-link { display: block; }
    .item-card {
      background: var(--card-bg); border-radius: var(--card-radius);
      overflow: hidden; box-shadow: var(--shadow-sm);
      transition: transform .3s ease, box-shadow .3s ease;
      height: 100%; display: flex; flex-direction: column;
    }
    .item-card-link:hover .item-card {
      transform: translateY(-5px);
      box-shadow: var(--shadow-md);
    }
    .card-image { position: relative; }
    .card-image img {
      width: 100%; height: 250px;
      object-fit: cover; display: block;
      background-color: #eee;
    }
    .badge-discount {
      position: absolute; top: 12px; left: 12px;
      background: var(--discount-color); color: #fff;
      padding: 6px 12px; font-size: 14px; font-weight: 700;
      border-radius: 20px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      animation: pulse 1.5s infinite;
      z-index: 1;
    }
    .badge-ad {
        position: absolute;
        top: 12px;
        right: 12px;
        background-color: rgba(33, 33, 33, 0.7);
        color: white;
        font-size: 11px;
        font-weight: 700;
        padding: 4px 8px;
        border-radius: 6px;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        z-index: 1;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    .item-info {
      padding: 16px; flex-grow: 1;
      display: flex; flex-direction: column;
    }
    .item-name {
      font-size: 18px; font-weight: 700;
      margin-bottom: 8px; line-height: 1.4;
    }
    .rating {
      display: inline-flex; align-items: center; gap: 4px;
      background: #FFB74D; color: #fff;
      padding: 4px 10px; font-size: 13px; font-weight: 700;
      border-radius: 6px; margin-right: 8px;
    }
    .meta {
      font-size: 14px; color: var(--light-text);
      margin: 4px 0; display: block;
    }
    .location::before { content: 'üìç'; margin-right: 6px; }
    .green-score-container, .amenities-container { margin-top: auto; padding-top: 12px; }
    .green-score-label {
      font-size: 12px; color: var(--light-text); margin-bottom: 4px;
    }
    .green-score-bar {
      width: 100%; background: #e9ecef; border-radius: 4px;
      overflow: hidden; height: 8px;
    }
    .green-score-fill {
      height: 100%; background: var(--primary-color);
      transition: width 0.5s ease-in-out;
    }
    .amenities-list { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 4px; }
    .amenity-tag {
      background: var(--secondary-color); color: var(--primary-color);
      font-size: 12px; padding: 4px 10px; border-radius: 16px;
      font-weight: 500;
    }
    .highlight {
      box-shadow: 0 0 0 3px var(--primary-color);
      border: 1px solid var(--primary-color);
    }
    .message-box {
        text-align: center; padding: 40px 20px;
        color: var(--light-text); font-size: 16px;
        grid-column: 1 / -1;
    }
  </style>
</head>
<body>
  <header>
    <img src="https://www.scg.com/assets/frontend/images/logo.svg" alt="SCG Logo" class="header-logo">
    <span class="header-title">ONLY app</span>
  </header>

  <nav class="main-nav">
    <a href="#restaurants" class="nav-item active" data-page="restaurants">
      <svg viewBox="0 0 24 24"><path d="M11,9H9V2H7V9H5V2H3V9C3,11.12 4.66,12.84 6.75,12.97V22H9.25V13C10.19,12.89 11,12.05 11,11.1V9M16,2V22H18V2H16Z"></path></svg>
      <span>‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£</span>
    </a>
    <a href="#hotels" class="nav-item" data-page="hotels">
      <svg viewBox="0 0 24 24"><path d="M19,7H11V14H3V5H1V20H3V17H21V20H23V11A4,4 0 0,0 19,7M7,13A3,3 0 0,0 10,10A3,3 0 0,0 7,7A3,3 0 0,0 4,10A3,3 0 0,0 7,13Z"></path></svg>
      <span>‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°</span>
    </a>
    <a href="#golf" class="nav-item" data-page="golf">
      <svg viewBox="0 0 24 24"><path d="M12.4,12.4L11,11L10,12L12.4,14.4M13,10H11V4L5,6.5V17H2V20H22V10H13M7,15V8.1L9,7.2V15H7Z"></path></svg>
      <span>‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏≠‡∏•‡πå‡∏ü</span>
    </a>
  </nav>

  <main>
    <!-- Restaurants Page -->
    <div id="page-restaurants" class="page active">
      <div class="filters-wrapper">
        <input type="search" id="search-input-restaurant" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£...">
        <div class="scrollable-filters">
          <select id="filter-province-restaurant"><option value="">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option></select>
          <select id="filter-district-restaurant" disabled><option value="">‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡πÄ‡∏Ç‡∏ï</option></select>
          <select id="filter-type-restaurant"><option value="">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏≠‡∏≤‡∏´‡∏≤‡∏£</option><option value="buffet">‡∏ö‡∏∏‡∏ü‡πÄ‡∏ü‡πà‡∏ï‡πå</option><option value="asian">‡πÄ‡∏≠‡πÄ‡∏ä‡∏µ‡∏¢</option><option value="western">‡∏ï‡∏∞‡∏ß‡∏±‡∏ô‡∏ï‡∏Å</option></select>
          <select id="filter-dining-style-restaurant"><option value="">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô</option><option value="‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ">‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option><option value="‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á">‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á</option></select>
          <select id="filter-price-restaurant"><option value="">‡∏£‡∏≤‡∏Ñ‡∏≤ (‡∏ø)</option><option value="0-200">0 ‚Äì 200</option><option value="201-500">201 ‚Äì 500</option><option value="501-1000">501 ‚Äì 1000</option><option value="1001-">1001+</option></select>
          <select id="sort-order-restaurant"><option value="">‡∏à‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏á</option><option value="price_desc">‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏π‡∏á-‡∏ï‡πà‡∏≥</option><option value="rating_desc">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á-‡∏ï‡πà‡∏≥</option><option value="discount_desc">‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î ‡∏™‡∏π‡∏á-‡∏ï‡πà‡∏≥</option></select>
          <button id="random-btn-restaurant" class="random-btn">‡∏™‡∏∏‡πà‡∏°‡∏£‡πâ‡∏≤‡∏ô</button>
          <button id="reset-btn-restaurant" class="reset-btn">‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤</button>
        </div>
        <span id="selected-name-restaurant"></span>
      </div>
      <div id="restaurants-list" class="content-list">
        <div class="message-box">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</div>
      </div>
    </div>

    <!-- Hotels Page -->
    <div id="page-hotels" class="page">
      <div class="filters-wrapper">
        <input type="search" id="search-input-hotel" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°...">
        <div class="scrollable-filters">
          <select id="filter-province-hotel"><option value="">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option></select>
          <select id="filter-price-hotel"><option value="">‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏Ñ‡∏∑‡∏ô (‡∏ø)</option><option value="0-3000">0 - 3000</option><option value="3001-5000">3001 - 5000</option><option value="5001-">5001+</option></select>
          <select id="filter-rating-hotel"><option value="">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏î‡∏≤‡∏ß</option><option value="3">3 ‚òÖ</option><option value="4">4 ‚òÖ</option><option value="5">5 ‚òÖ</option></select>
          <button id="reset-btn-hotel" class="reset-btn">‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤</button>
        </div>
      </div>
      <div id="hotels-list" class="content-list">
        <div class="message-box">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°</div>
      </div>
    </div>

    <!-- Golf Page -->
    <div id="page-golf" class="page">
      <div class="filters-wrapper">
        <input type="search" id="search-input-golf" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏≠‡∏•‡πå‡∏ü...">
        <div class="scrollable-filters">
          <select id="filter-province-golf"><option value="">‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏±‡∏î</option></select>
          <select id="filter-price-golf"><option value="">Green Fee (‡∏ø)</option><option value="0-2500">0 - 2500</option><option value="2501-4000">2501 - 4000</option><option value="4001-">4001+</option></select>
          <select id="filter-holes-golf"><option value="">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏´‡∏•‡∏∏‡∏°</option><option value="9">9 ‡∏´‡∏•‡∏∏‡∏°</option><option value="18">18 ‡∏´‡∏•‡∏∏‡∏°</option></select>
          <button id="reset-btn-golf" class="reset-btn">‡∏•‡πâ‡∏≤‡∏á‡∏Ñ‡πà‡∏≤</button>
        </div>
      </div>
      <div id="golf-list" class="content-list">
         <div class="message-box">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏≠‡∏•‡πå‡∏ü</div>
      </div>
    </div>
  </main>

<script>
document.addEventListener('DOMContentLoaded', () => {

  // --- DATA with Image URLs and AD property ---
  const restaurantData = [
    {id: 1, name:'‡∏£‡πâ‡∏≤‡∏ô‡∏ö‡πâ‡∏≤‡∏ô‡∏™‡∏ß‡∏ô‡∏≠‡∏≠‡∏£‡πå‡πÅ‡∏Å‡∏ô‡∏¥‡∏Å',discount:10,greenScore:92,rating:4.7,province:'‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ',district:'‡∏®‡∏£‡∏µ‡∏£‡∏≤‡∏ä‡∏≤',type:'buffet',price:450, image: 'https://images.pexels.com/photos/262978/pexels-photo-262978.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', isAd: false, diningStyle: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á'},
    {id: 2, name:'‡∏™‡πâ‡∏°‡∏ï‡∏≥‡πÅ‡∏°‡πà‡∏ö‡∏∏‡∏ç‡∏ä‡πà‡∏ß‡∏¢',discount:15,greenScore:75,rating:4.3,province:'‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô',district:'‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏Ç‡∏≠‡∏ô‡πÅ‡∏Å‡πà‡∏ô',type:'asian',price:129, image: 'https://images.pexels.com/photos/2347311/pexels-photo-2347311.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', isAd: false, diningStyle: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'},
    {id: 3, name:'SteakHouse Prime',discount:20,greenScore:60,rating:4.8,province:'‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø',district:'‡∏ß‡∏±‡∏í‡∏ô‡∏≤',type:'western',price:1299, image: 'https://images.pexels.com/photos/1251208/pexels-photo-1251208.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', isAd: true, diningStyle: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á'},
    {id: 4, name:'‡∏Å‡πã‡∏ß‡∏¢‡πÄ‡∏ï‡∏µ‡πã‡∏¢‡∏ß‡πÄ‡∏£‡∏∑‡∏≠‡∏ô‡∏≤‡∏¢‡πÇ‡∏≠',discount:5,greenScore:55,rating:4.2,province:'‡∏ô‡∏Ñ‡∏£‡∏£‡∏≤‡∏ä‡∏™‡∏µ‡∏°‡∏≤',district:'‡∏õ‡∏≤‡∏Å‡∏ä‡πà‡∏≠‡∏á',type:'asian',price:89, image: 'https://cms.dmpcdn.com/food/2020/06/08/a511be30-a951-11ea-9cca-0796b916f819_original.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', isAd: false, diningStyle: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'},
    {id: 5, name:'La Pizzeria Italiano',discount:25,greenScore:80,rating:4.6,province:'‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà',district:'‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà',type:'western',price:550, image: 'https://images.pexels.com/photos/1146760/pexels-photo-1146760.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', isAd: false, diningStyle: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á'},
    {id: 6, name:'Buffet ‡∏ã‡∏µ‡∏ü‡∏π‡πâ‡∏î‡πÄ‡∏î‡∏•‡∏¥‡πÄ‡∏ß‡∏≠‡∏£‡∏µ‡πà',discount:30,greenScore:95,rating:4.9,province:'‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï',district:'‡∏£‡∏≤‡πÑ‡∏ß‡∏¢‡πå',type:'buffet',price:799, image: 'https://s359.kapook.com/rq/600/auto/50/pagebuilder/30a38cbd-9a54-4eb9-b39c-b4386d299cc2.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', isAd: false, diningStyle: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á'},
    {id: 7, name:'‡∏£‡πâ‡∏≤‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß‡πÅ‡∏Å‡∏á‡∏õ‡∏±‡∏Å‡∏©‡πå‡πÉ‡∏ï‡πâ',discount:12,greenScore:65,rating:4.1,province:'‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏ä',district:'‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ô‡∏Ñ‡∏£‡∏®‡∏£‡∏µ‡∏ò‡∏£‡∏£‡∏°‡∏£‡∏≤‡∏©‡∏é‡∏£‡πå',type:'asian',price:159, image: 'https://mpics-cdn-acc.mgronline.com/pics/Images/562000007549101.JPEG?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', isAd: false, diningStyle: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'},
    {id: 8, name:'Sushi Master',discount:18,greenScore:85,rating:4.5,province:'‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø',district:'‡∏ö‡∏≤‡∏á‡∏£‡∏±‡∏Å',type:'asian',price:899, image: 'https://www.kikkoman.eu/fileadmin/_processed_/4/2/csm_sushi-kakkoii_eb92ad14ee.webp?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', isAd: true, diningStyle: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'},
    {id: 9, name:'Curry & Rice',discount:22,greenScore:70,rating:4.4,province:'‡∏™‡∏∏‡∏û‡∏£‡∏£‡∏ì‡∏ö‡∏∏‡∏£‡∏µ',district:'‡∏≠‡∏π‡πà‡∏ó‡∏≠‡∏á',type:'asian',price:199, image: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTm9O98aT5wpQDEu5vNOgg0DeUIYK_5vXtvIw&s?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', isAd: false, diningStyle: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'},
    {id: 10, name:'Burger Town',discount:8,greenScore:50,rating:4.0,province:'‡∏ä‡∏∏‡∏°‡∏û‡∏£',district:'‡πÄ‡∏°‡∏∑‡∏≠‡∏á‡∏ä‡∏∏‡∏°‡∏û‡∏£',type:'western',price:299, image: 'https://images.pexels.com/photos/1639562/pexels-photo-1639562.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2', isAd: false, diningStyle: '‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ'}
  ];
  const hotelData = [
    {id: 1, name: 'Grand Hotel', province: '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø', price: 5500, rating: 5, amenities: ['‡∏™‡∏£‡∏∞‡∏ß‡πà‡∏≤‡∏¢‡∏ô‡πâ‡∏≥', '‡∏™‡∏õ‡∏≤', '‡∏ü‡∏¥‡∏ï‡πÄ‡∏ô‡∏™'], discount: 15, image: 'https://images.pexels.com/photos/258154/pexels-photo-258154.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'},
    {id: 2, name: 'Chiang Mai Mountain Retreat', province: '‡πÄ‡∏ä‡∏µ‡∏¢‡∏á‡πÉ‡∏´‡∏°‡πà', price: 3800, rating: 4, amenities: ['‡∏ß‡∏¥‡∏ß‡∏†‡∏π‡πÄ‡∏Ç‡∏≤', '‡∏£‡∏ß‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏ä‡πâ‡∏≤'], discount: 20, image: 'https://images.pexels.com/photos/189296/pexels-photo-189296.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'},
    {id: 3, name: 'Phuket Beachside Resort', province: '‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï', price: 4500, rating: 4, amenities: ['‡∏ï‡∏¥‡∏î‡∏ä‡∏≤‡∏¢‡∏´‡∏≤‡∏î', '‡∏Å‡∏µ‡∏¨‡∏≤‡∏ó‡∏≤‡∏á‡∏ô‡πâ‡∏≥'], discount: 10, image: 'https://images.pexels.com/photos/261102/pexels-photo-261102.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'}
  ];
  const golfData = [
    {id: 1, name: 'Siam Country Club', province: '‡∏ä‡∏•‡∏ö‡∏∏‡∏£‡∏µ', price: 3500, holes: 18, features: ['‡∏™‡∏ô‡∏≤‡∏°‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏õ‡∏£', '‡∏Ñ‡∏•‡∏±‡∏ö‡πÄ‡∏Æ‡∏≤‡∏™‡πå'], discount: 10, image: 'https://storage.googleapis.com/gdwp/2017/12/1-2BlackMountain_2.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'},
    {id: 2, name: 'Alpine Golf Club', province: '‡∏Å‡∏£‡∏∏‡∏á‡πÄ‡∏ó‡∏û‡∏Ø', price: 4800, holes: 18, features: ['‡∏™‡∏ô‡∏≤‡∏°‡πÅ‡∏ä‡∏°‡πÄ‡∏õ‡∏µ‡πâ‡∏¢‡∏ô‡∏ä‡∏¥‡∏û', '‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢'], discount: 15, image: 'https://storage.googleapis.com/gdwp/2017/12/3-2rancho.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'},
    {id: 3, name: 'Blue Canyon Country Club', province: '‡∏†‡∏π‡πÄ‡∏Å‡πá‡∏ï', price: 5200, holes: 18, features: ['‡πÄ‡∏Ñ‡∏¢‡∏à‡∏±‡∏î‡∏ó‡∏±‡∏ß‡∏£‡πå‡∏ô‡∏≤‡πÄ‡∏°‡∏ô‡∏ï‡πå', '‡∏´‡∏£‡∏π‡∏´‡∏£‡∏≤'], discount: 5, image: 'https://storage.googleapis.com/gdwp/2017/12/3-1bonanza02.jpg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'}
  ];

  // --- PAGE NAVIGATION ---
  const navItems = document.querySelectorAll('.nav-item');
  const pages = document.querySelectorAll('.page');
  
  function navigateToPage(pageId) {
      navItems.forEach(nav => nav.classList.toggle('active', nav.dataset.page === pageId));
      pages.forEach(page => page.classList.toggle('active', page.id === `page-${pageId}`));
      window.location.hash = pageId;
  }

  navItems.forEach(item => {
    item.addEventListener('click', (e) => {
      e.preventDefault();
      navigateToPage(item.dataset.page);
    });
  });

  const initialPage = window.location.hash.replace('#', '') || 'restaurants';
  navigateToPage(initialPage);

  // --- SHARED FUNCTIONS ---
  function populateFilter(selectElement, data, key) {
    const uniqueValues = [...new Set(data.map(item => item[key]))].sort();
    uniqueValues.forEach(val => {
      let opt = document.createElement('option');
      opt.value = val;
      opt.text = val;
      selectElement.add(opt);
    });
  }

  function createItemCard(item) {
    const link = document.createElement('a');
    let itemType = '';
    let linkTarget = '#';

    if ('greenScore' in item) {
        itemType = 'restaurant';
        linkTarget = `restaurant-detail.html?id=${item.id}`;
    } else if ('amenities' in item) {
        itemType = 'hotel';
        linkTarget = `hotel-detail.html?id=${item.id}`;
    } else if ('holes' in item) {
        itemType = 'golf';
        linkTarget = `golf-detail.html?id=${item.id}`;
    }

    link.href = linkTarget;
    link.className = 'item-card-link';

    const card = document.createElement('div');
    card.className = 'item-card';
    const imageSrc = item.image || `https://placehold.co/600x400/eeeeee/cccccc?text=No+Image`;

    let detailsHtml = '';

    if (itemType === 'restaurant') {
      detailsHtml = `
        <div><span class="rating">${item.rating} ‚òÖ</span><span class="meta"> ‡∏ø${item.price}</span></div>
        <div class="meta">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó: ${item.type}</div>
        <div class="meta location">${item.district}, ${item.province}</div>
        <div class="green-score-container">
          <div class="green-score-label">Green Score: ${item.greenScore}</div>
          <div class="green-score-bar"><div class="green-score-fill" style="width: ${item.greenScore}%;"></div></div>
        </div>
      `;
    } else if (itemType === 'hotel') {
      detailsHtml = `
        <div>
          <span class="rating">${'‚òÖ'.repeat(item.rating)}</span>
          <span class="meta"> ‡∏ø${item.price}/‡∏Ñ‡∏∑‡∏ô</span>
        </div>
        <div class="meta location">${item.province}</div>
        <div class="amenities-container">
          <div class="amenities-list">${item.amenities.map(a => `<span class="amenity-tag">${a}</span>`).join('')}</div>
        </div>
      `;
    } else if (itemType === 'golf') {
      detailsHtml = `
        <div><span class="meta">Green Fee: ‡∏ø${item.price}</span></div>
        <div class="meta location">${item.province}</div>
        <div class="meta">${item.holes} ‡∏´‡∏•‡∏∏‡∏°</div>
        <div class="amenities-container">
          <div class="amenities-list">${item.features.map(f => `<span class="amenity-tag">${f}</span>`).join('')}</div>
        </div>
      `;
    }

    card.innerHTML = `
      <div class="card-image">
        <img src="${imageSrc}" alt="${item.name}" onerror="this.onerror=null;this.src='https://placehold.co/600x400/eeeeee/cccccc?text=Image+Error';">
        ${item.isAd ? '<div class="badge-ad">Ad</div>' : ''}
        ${item.discount ? `<div class="badge-discount">-${item.discount}%</div>` : ''}
      </div>
      <div class="item-info">
        <div><div class="item-name">${item.name}</div></div>
        ${detailsHtml}
      </div>
    `;
    link.appendChild(card);
    return link;
  }

  // --- RESTAURANT LOGIC ---
  (function initRestaurants() {
    const page = document.getElementById('page-restaurants');
    const listEl = page.querySelector('.content-list');
    const searchInput = page.querySelector('input[type="search"]');
    const provinceFilter = page.querySelector('#filter-province-restaurant');
    const districtFilter = page.querySelector('#filter-district-restaurant');
    const typeFilter = page.querySelector('#filter-type-restaurant');
    const diningStyleFilter = page.querySelector('#filter-dining-style-restaurant');
    const priceFilter = page.querySelector('#filter-price-restaurant');
    const sortOrder = page.querySelector('#sort-order-restaurant');
    const randomBtn = page.querySelector('.random-btn');
    const resetBtn = page.querySelector('.reset-btn');
    const selectedNameEl = page.querySelector('#selected-name-restaurant');
    let randomInterval = null;
    
    let allAdRestaurants = [];
    let potentialFeaturedGreen = [];
    let baseRestaurantList = [];

    function setupInitialLists() {
        const allRestaurants = [...restaurantData];
        allAdRestaurants = allRestaurants.filter(r => r.isAd);
        const nonAdRestaurants = allRestaurants.filter(r => !r.isAd);

        const top20PercentCount = Math.ceil(nonAdRestaurants.length * 0.2);
        potentialFeaturedGreen = [...nonAdRestaurants].sort((a, b) => b.greenScore - a.greenScore).slice(0, top20PercentCount);
        
        const potentialFeaturedIds = potentialFeaturedGreen.map(r => r.id);
        baseRestaurantList = nonAdRestaurants.filter(r => !potentialFeaturedIds.includes(r.id));
    }

    populateFilter(provinceFilter, restaurantData, 'province');

    function applyFilters() {
        if (randomInterval) clearInterval(randomInterval);
        selectedNameEl.textContent = '';

        const term = searchInput.value.trim().toLowerCase();
        
        const matchesFilters = (r) => {
            if (term && !r.name.toLowerCase().includes(term)) return false;
            if (provinceFilter.value && r.province !== provinceFilter.value) return false;
            if (districtFilter.value && r.district !== districtFilter.value) return false;
            if (typeFilter.value && r.type !== typeFilter.value) return false;
            if (diningStyleFilter.value && r.diningStyle !== diningStyleFilter.value) return false;
            if (priceFilter.value) {
                const [min, max] = priceFilter.value.split('-');
                if (min && r.price < +min) return false;
                if (max && max !== '' && r.price > +max) return false;
            }
            return true;
        };

        const displayableAds = allAdRestaurants.filter(matchesFilters);
        
        const filteredPotentialGreen = potentialFeaturedGreen.filter(matchesFilters);
        const featuredCount = Math.ceil(baseRestaurantList.length * 0.1);
        const displayableFeaturedGreen = [...filteredPotentialGreen].sort(() => 0.5 - Math.random()).slice(0, featuredCount);
        
        const featuredIds = displayableFeaturedGreen.map(r => r.id);
        const nonFeaturedGreen = filteredPotentialGreen.filter(r => !featuredIds.includes(r.id));
        
        let displayableBase = [...baseRestaurantList.filter(matchesFilters), ...nonFeaturedGreen];

        if (sortOrder.value) {
            const [key, dir] = sortOrder.value.split('_');
            displayableBase.sort((a, b) => dir === 'desc' ? b[key] - a[key] : a[key] - b[key]);
        }
        
        const fullListToRender = [...displayableAds, ...displayableFeaturedGreen, ...displayableBase];
        render(fullListToRender);
    }
    
    function render(data) {
      listEl.innerHTML = '';
      if (data.length === 0) {
        listEl.innerHTML = '<div class="message-box">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏£‡πâ‡∏≤‡∏ô‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</div>';
        return;
      }
      data.forEach(r => listEl.appendChild(createItemCard(r)));
    }
    
    function updateDistricts() {
        const prov = provinceFilter.value;
        districtFilter.innerHTML = '<option value="">‡∏≠‡∏≥‡πÄ‡∏†‡∏≠/‡πÄ‡∏Ç‡∏ï</option>';
        districtFilter.disabled = !prov;
        if (prov) {
            const districts = [...new Set(restaurantData.filter(r => r.province === prov).map(r => r.district))].sort();
            districts.forEach(d => {
                let opt = document.createElement('option');
                opt.value = opt.text = d;
                districtFilter.add(opt);
            });
        }
        applyFilters();
    }

    function handleRandomClick() {
        if (randomInterval) clearInterval(randomInterval);
        const cards = Array.from(listEl.querySelectorAll('.item-card'));
        if (!cards.length) return;

        selectedNameEl.textContent = '‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏™‡∏∏‡πà‡∏°...';
        cards.forEach(c => c.classList.remove('highlight'));

        let idx = 0;
        const totalSpins = cards.length * 2 + Math.floor(Math.random() * cards.length);
        let counter = 0;

        randomInterval = setInterval(() => {
            cards.forEach(c => c.classList.remove('highlight'));
            if (cards[idx]) {
                cards[idx].classList.add('highlight');
            }
            idx = (idx + 1) % cards.length;
            if (counter++ > totalSpins) {
                clearInterval(randomInterval);
                randomInterval = null;
                const finalIndex = idx > 0 ? idx - 1 : cards.length - 1;
                cards.forEach(c => c.classList.remove('highlight'));
                const selectedCard = cards[finalIndex];
                if (selectedCard) {
                    selectedCard.classList.add('highlight');
                    selectedCard.parentElement.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    selectedNameEl.textContent = `‡∏£‡πâ‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å: ${selectedCard.querySelector('.item-name').textContent}`;
                }
            }
        }, 100);
    }

    function reset() {
      searchInput.value = '';
      provinceFilter.value = '';
      typeFilter.value = '';
      diningStyleFilter.value = '';
      priceFilter.value = '';
      sortOrder.value = '';
      updateDistricts();
    }

    searchInput.addEventListener('input', applyFilters);
    provinceFilter.addEventListener('change', updateDistricts);
    districtFilter.addEventListener('input', applyFilters);
    typeFilter.addEventListener('input', applyFilters);
    diningStyleFilter.addEventListener('input', applyFilters);
    priceFilter.addEventListener('input', applyFilters);
    sortOrder.addEventListener('input', applyFilters);
    randomBtn.addEventListener('click', handleRandomClick);
    resetBtn.addEventListener('click', reset);
    
    setupInitialLists();
    applyFilters();
  })();

  // --- HOTEL LOGIC ---
  (function initHotels() {
    const page = document.getElementById('page-hotels');
    const listEl = page.querySelector('.content-list');
    const searchInput = page.querySelector('input[type="search"]');
    const provinceFilter = page.querySelector('#filter-province-hotel');
    const priceFilter = page.querySelector('#filter-price-hotel');
    const ratingFilter = page.querySelector('#filter-rating-hotel');
    const resetBtn = page.querySelector('.reset-btn');

    populateFilter(provinceFilter, hotelData, 'province');

    function applyFilters() {
      const term = searchInput.value.trim().toLowerCase();
      let data = hotelData.filter(h => {
        if (term && !h.name.toLowerCase().includes(term)) return false;
        if (provinceFilter.value && h.province !== provinceFilter.value) return false;
        if (ratingFilter.value && h.rating != ratingFilter.value) return false;
        if (priceFilter.value) {
          const [min, max] = priceFilter.value.split('-');
          if (min && h.price < +min) return false;
          if (max && max !== '' && h.price > +max) return false;
        }
        return true;
      });
      render(data);
    }

    function render(data) {
      listEl.innerHTML = '';
      if (data.length === 0) {
        listEl.innerHTML = '<div class="message-box">‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏£‡∏á‡πÅ‡∏£‡∏°‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</div>';
        return;
      }
      data.forEach(h => listEl.appendChild(createItemCard(h)));
    }

    function reset() {
      searchInput.value = '';
      provinceFilter.value = '';
      priceFilter.value = '';
      ratingFilter.value = '';
      applyFilters();
    }

    searchInput.addEventListener('input', applyFilters);
    provinceFilter.addEventListener('input', applyFilters);
    priceFilter.addEventListener('input', applyFilters);
    ratingFilter.addEventListener('input', applyFilters);
    resetBtn.addEventListener('click', reset);
    applyFilters();
  })();

  // --- GOLF LOGIC ---
  (function initGolf() {
    const page = document.getElementById('page-golf');
    const listEl = page.querySelector('.content-list');
    const searchInput = page.querySelector('input[type="search"]');
    const provinceFilter = page.querySelector('#filter-province-golf');
    const priceFilter = page.querySelector('#filter-price-golf');
    const holesFilter = page.querySelector('#filter-holes-golf');
    const resetBtn = page.querySelector('.reset-btn');

    populateFilter(provinceFilter, golfData, 'province');

    function applyFilters() {
      const term = searchInput.value.trim().toLowerCase();
      let data = golfData.filter(g => {
        if (term && !g.name.toLowerCase().includes(term)) return false;
        if (provinceFilter.value && g.province !== provinceFilter.value) return false;
        if (holesFilter.value && g.holes != holesFilter.value) return false;
        if (priceFilter.value) {
          const [min, max] = priceFilter.value.split('-');
          if (min && g.price < +min) return false;
          if (max && max !== '' && g.price > +max) return false;
        }
        return true;
      });
      render(data);
    }

    function render(data) {
      listEl.innerHTML = '';
      if (data.length === 0) {
        listEl.innerHTML = '<div class="message-box">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏ô‡∏≤‡∏°‡∏Å‡∏≠‡∏•‡πå‡∏ü‡∏ó‡∏µ‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</div>';
        return;
      }
      data.forEach(g => listEl.appendChild(createItemCard(g)));
    }

    function reset() {
      searchInput.value = '';
      provinceFilter.value = '';
      priceFilter.value = '';
      holesFilter.value = '';
      applyFilters();
    }

    searchInput.addEventListener('input', applyFilters);
    provinceFilter.addEventListener('input', applyFilters);
    priceFilter.addEventListener('input', applyFilters);
    holesFilter.addEventListener('input', applyFilters);
    resetBtn.addEventListener('click', reset);
    applyFilters();
  })();

});
</script>
</body>
</html>
